{%- include common/rest/workdir.liquid %}

{% comment %} list the root files {% endcomment %}
<ul>
    {%- for item in workdir_files -%}
        {%- assign level = item.dir | append: "temp" | replace_first: "/", "" | split: "/" | size -%}
        {%- capture current -%}
            {%- if page.url == item.url %}current{% endif -%}
        {%- endcapture %}
        <li class="toc level-{{ level }} {{ current }}" data-sort="{{ item.sort }}" data-level="{{ level }}">
            <a class="d-flex flex-items-baseline {{ current }}" href="{{ item.url | relative_url }}">
                {%- if item.spin -%}
                    {{ item.spin }}. {{ item.title | default: item.name }}
                {%- else -%}
                    {{ item.title | default: item.name }}
                {%- endif -%}
            </a>
        </li>
    {%- endfor %}
</ul>

{% comment %}
list the root dirs 
      if [[ $NUM == 31 && $ID != $NUM ]]; then FRONT+="redirect_to: https://www.eq19.com/maps/exponentiation/span17/\n"; fi
      if [[ $NUM == 32 && $ID != $NUM ]]; then FRONT+="redirect_to: https://www.eq19.com/feed/exponentiation/span16/\n"; fi
      if [[ $NUM == 33 && $ID != $NUM ]]; then FRONT+="redirect_to: https://www.eq19.com/lexer/exponentiation/span15/\n"; fi
      if [[ $NUM == 34 && $ID != $NUM ]]; then FRONT+="redirect_to: https://www.eq19.com/parser/exponentiation/span14/\n"; fi
      if [[ $NUM == 35 && $ID != $NUM ]]; then FRONT+="redirect_to: https://www.eq19.com/syntax/exponentiation/span13/\n"; fi
      if [[ $NUM == 37 && $ID != $NUM ]]; then FRONT+="redirect_to: https://www.eq19.com/grammar/identition/span12/\n"; fi
{% endcomment %}
{%- for workdir in workdir_dirs %}{% include templates/_toctree.liquid %}{% endfor -%}
